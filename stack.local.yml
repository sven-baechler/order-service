version: '3.5'

networks:
  backbone:
  demo:

services:
  
  bus:
    image: rabbitmq:3.8-management
    restart: always
    ports:
      - "8082:15672"
      - "5672:5672"
    networks:
      - backbone

  mongodb:
    image: cr.gitlab.switch.ch/hslu/shared/devops/docker-cache/bitnami/mongodb:4.2.19
    restart: always
    ports:
      - '27017:27017'
    networks:
      - backbone

  mongo-viewer:
    image: cr.gitlab.switch.ch/hslu/shared/devops/docker-cache/mongo-express:0.54
    restart: always
    ports:
      - "8084:8081"
    networks:
      - backbone
    links:
      - "mongodb:mongo"
